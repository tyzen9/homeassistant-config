type: vertical-stack
cards:
  - type: custom:mushroom-title-card
    title: Performance

  - type: custom:mod-card
    style: |
      ha-card {
        background: var(--ha-card-background,var(--card-background-color,#fff));
        backdrop-filter: var(--ha-card-backdrop-filter,none);
        box-shadow: var(--ha-card-box-shadow,none);
        border-radius: var(--ha-card-border-radius,12px);
        border-width: var(--ha-card-border-width,1px);
        border-style: solid;
        border-color: var(--ha-card-border-color,var(--divider-color,#e0e0e0));
        border-radius: 10px;
        padding: 10px;
      }
    card:
      type: grid
      columns: 1
      square: false
      cards:
        - type: custom:entity-progress-card
          name: CPU
          entity: sensor.localhost_cpu_usage
          force_circular_background: true
          marginless: true
          frameless: true
          theme: optimal_when_low

        - type: custom:entity-progress-card
          name: RAM
          entity: sensor.localhost_memory_usage
          force_circular_background: true
          marginless: true
          frameless: true
          theme: optimal_when_low

        - type: custom:entity-progress-card-template
          entity: sensor.localhost_cpu_load
          icon: mdi:weight
          name: Load
          secondary: >-
            {% from 'macros.jinja' import cpu_load_calc_8core %}
            {{ cpu_load_calc_8core(states('sensor.localhost_cpu_load')) -}}%
          percent: |-
            {% from 'macros.jinja' import cpu_load_calc_8core %}
            {{ cpu_load_calc_8core(states('sensor.localhost_cpu_load')) }}
          force_circular_background: true
          marginless: true
          frameless: true
          theme: optimal_when_low
