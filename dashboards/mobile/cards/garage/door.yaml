type: custom:button-card
name: Garage Door
entity: binary_sensor.relay_garage_dooropener_input
template:
  - button-wide
show_label: true
label: >
  [[[ 
    let entityId = 'binary_sensor.relay_garage_dooropener_input';
    let lastOperation = new Date(states[entityId].last_updated)
    var options = {weekday:'short', hour:'2-digit', minute:'2-digit'}

    let stateString = "Open";
    if (states[entityId].state === "on") stateString = "Closed"; 

    return stateString + " since " + lastOperation.toLocaleDateString("en-US", options);
  ]]]
state:
  - value: "on"
    icon: mdi:garage-variant
    name: Open Garage Door
  - value: "off"
    icon: mdi:garage-open-variant
    name: Close Garage Door
    styles:
      card:
        - box-shadow: 0px 0px 5px red
      icon:
        - color: orange
tap_action:
  action: call-service
  service: switch.turn_on
  service_data:
    entity_id: switch.relay_garage_dooropener
  confirmation:
    text: Operate Garage Door - Are you sure?
